# PROJECT_CONTEXT.md: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ö–æ–Ω—Ç–µ–∫—Å—Ç –ü—Ä–æ–µ–∫—Ç–∞ RL Agent Training üöÄ

## –û–±–∑–æ—Ä –ü—Ä–æ–µ–∫—Ç–∞ üìã
- **–ù–∞–∑–≤–∞–Ω–∏–µ:** –°–∏—Å—Ç–µ–º–∞ –û–±—É—á–µ–Ω–∏—è RL –ê–≥–µ–Ω—Ç–æ–≤ (RL Agent Training System)
- **–°—Ä–µ–¥–∞:** LunarLander-v3 (Gymnasium)
- **–°—Ç–∞—Ç—É—Å:** –§–∞–∑–∞ 7 –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (–§–∏–Ω–∞–ª—å–Ω–∞—è –ü–æ–ª–∏—Ä–æ–≤–∫–∞)
- **–í–µ—Ç–∫–∞:** `001-cleanup-ppo-a2c-experiments`
- **–Ø–∑—ã–∫:** Python 3.10.14
- **–û–∫—Ä—É–∂–µ–Ω–∏–µ:** Conda &quot;rocm&quot; —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π ROCm 6.2

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ üõ†Ô∏è
- **RL –§—Ä–µ–π–º–≤–æ—Ä–∫–∏:** Stable-Baselines3 (PPO, A2C, SAC, TD3)
- **–°—Ä–µ–¥–∞:** Gymnasium (LunarLander-v3)
- **DL Backend:** PyTorch + ROCm 6.2
- **–î–∞–Ω–Ω—ã–µ/–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:** NumPy, Matplotlib, imageio, pandas
- **Dev Tools:** pytest, ruff, mypy

## –ö–ª—é—á–µ–≤—ã–µ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã üìä
### PPO vs A2C (50K —à–∞–≥–æ–≤, seed=42)
| –ê–ª–≥–æ—Ä–∏—Ç–º | Reward (mean ¬± std) | –í—Ä–µ–º—è (—Å–µ–∫) | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|----------|---------------------|-------------|------------|
| **A2C**  | **-259.25 ¬± 469.02** | **71.8**   | –ü–æ–±–µ–¥–∏—Ç–µ–ª—å: 40% –±—ã—Å—Ç—Ä–µ–µ, +17.7% reward |
| PPO      | -315.10 ¬± 479.69    | 100.3      | -          |

### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã Gamma
- –ö–æ–Ω—Ñ–∏–≥–∏: `gamma=0.90, 0.99, 0.999`
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã: `results/experiments/gamma_*`

### –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ö—Ä–∏—Ç–µ—Ä–∏—è–º: 88% (7/8)
| –ö—Ä–∏—Ç–µ—Ä–∏–π | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|--------|----------|
| SC-001  | ‚úÖ     | Integration tests: 6/6 –ø—Ä–æ—Ö–æ–¥—è—Ç |
| SC-002  | ‚úÖ     | Root —á–∏—Å—Ç—ã–π (7 —ç–ª–µ–º–µ–Ω—Ç–æ–≤) |
| SC-003  | ‚úÖ     | Training < 30 –º–∏–Ω (A2C 200K: 256—Å, PPO 200K: 306—Å) |
| SC-004  | ‚úÖ     | Reproducibility (std < 0.01) |
| SC-005  | ‚úÖ     | –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç (–º–æ–¥–µ–ª–∏, JSON, CSV, MP4) |
| SC-006  | ‚ö†Ô∏è     | Reward > 200 (PPO 200K: 77, A2C 200K: 8; –Ω—É–∂–Ω–æ 500K-1M —à–∞–≥–æ–≤) |
| SC-007  | ‚úÖ     | –ö–æ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –∏ –æ–±–Ω–æ–≤–ª–µ–Ω |
| SC-008  | ‚úÖ     | –ü—Ä–æ–≥—Ä–µ—Å—Å –æ—Ç—Å–ª–µ–∂–µ–Ω (CSV —ç–∫—Å–ø–æ—Ä—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω) |

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ üèóÔ∏è
```
src/
‚îú‚îÄ‚îÄ agents/          # PPO, A2C, SAC, TD3 (base.py, ppo_agent.py, a2c_agent.py)
‚îú‚îÄ‚îÄ training/        # trainer.py (1223 —Å—Ç—Ä–æ–∫–∏), callbacks, evaluation, metrics
‚îú‚îÄ‚îÄ experiments/     # completion/ (baseline_training.py, gamma_experiments.py)
‚îú‚îÄ‚îÄ visualization/   # graphs.py (317 —Å—Ç—Ä–æ–∫), video.py
‚îú‚îÄ‚îÄ utils/           # seeding.py (190 —Å—Ç—Ä–æ–∫), metrics_exporter.py, rl_logging.py
‚îú‚îÄ‚îÄ audit/           # –°–∏—Å—Ç–µ–º–∞ –∞—É–¥–∏—Ç–∞ –∫–æ–¥–∞
‚îú‚îÄ‚îÄ cleanup/         # –°–∏—Å—Ç–µ–º–∞ –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ evaluation/      # –û—Ü–µ–Ω–∫–∞ –∞–≥–µ–Ω—Ç–æ–≤
‚îî‚îÄ‚îÄ reporting/       # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤

tests/
‚îú‚îÄ‚îÄ unit/            # 200+ —Ç–µ—Å—Ç–æ–≤
‚îî‚îÄ‚îÄ integration/     # 6 —Ç–µ—Å—Ç–æ–≤ (4/6 –ø—Ä–æ—Ö–æ–¥—è—Ç)

specs/               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ñ–∞–∑ 001-003
results/             # experiments/, logs/, metrics/, videos/ (gitignore)
```

## –¢–µ–∫—É—â–µ–µ –°–æ—Å—Ç–æ—è–Ω–∏–µ üìà
- **–¢–µ—Å—Ç—ã:** Unit: 100% | Integration: ‚úÖ **6/6 –ø—Ä–æ—Ö–æ–¥—è—Ç** (–≤—Å–µ —Ñ–∏–∫—Å—ã –ø—Ä–∏–º–µ–Ω–µ–Ω—ã)
- **–°—Ö–æ–¥–∏–º–æ—Å—Ç—å:** 
  - PPO (200K): reward 76.98 ¬± 118.74
  - A2C (200K): reward 8.44 ¬± 23.01
  - –¶–µ–ª—å reward > 200 —Ç—Ä–µ–±—É–µ—Ç 500K-1M —à–∞–≥–æ–≤ –∏–ª–∏ —É–ª—É—á—à–µ–Ω–Ω—ã—Ö –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- **–í–∏–¥–µ–æ:** ‚úÖ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ (results/videos/ppo_demo.mp4, 344KB, 50 —Å–µ–∫, h264)
- **–ú–µ—Ç—Ä–∏–∫–∏:** ‚úÖ CSV —ç–∫—Å–ø–æ—Ä—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω (MetricsLoggingCallback –¥–æ–±–∞–≤–ª–µ–Ω)

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ü—Ä–æ–±–ª–µ–º—ã ‚ö†Ô∏è
1. ~~**Integration Tests (2 failing):**~~ ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**
   - ~~`test_audit_workflow` (—Ä–µ–∫—É—Ä—Å–∏—è - –∏–∑–≤–µ—Å—Ç–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ)~~
   - ~~`test_full_workflow_sequence`~~
   - ~~`test_workflow_artifacts_integrity`~~
2. **–°—Ö–æ–¥–∏–º–æ—Å—Ç—å:** –¢–µ–∫—É—â–∏–π reward -259 vs —Ü–µ–ª—å 200
   - –û–±—É—á–µ–Ω—ã PPO (200K): reward 76.98
   - –û–±—É—á–µ–Ω—ã A2C (200K): reward 8.44
   - –î–ª—è reward > 200 –Ω—É–∂–Ω–æ 500K-1M —à–∞–≥–æ–≤ –∏–ª–∏ —É–ª—É—á—à–µ–Ω–Ω—ã–µ –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã
3. ~~**–í–∏–¥–µ–æ:** –ù–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã~~ ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**
   - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ: results/videos/ppo_demo.mp4 (344KB, 50—Å)
4. ~~**Gamma CSVs:** –ü—É—Å—Ç—ã–µ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ JSON)~~ ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**
   - –î–æ–±–∞–≤–ª–µ–Ω MetricsLoggingCallback –¥–ª—è CSV —ç–∫—Å–ø–æ—Ä—Ç–∞
   - metrics.csv —Ç–µ–ø–µ—Ä—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## –ë—ã—Å—Ç—Ä—ã–µ –ö–æ–º–∞–Ω–¥—ã ‚ö°
```bash
# –ê–∫—Ç–∏–≤–∞—Ü–∏—è
conda activate rocm

# –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞
python -m src.training.trainer --config configs/training_schema.yaml
python -m src.training.train --algo a2c --steps 50000 --seed 42

# –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã
python -m src.experiments.runner --config configs/experiment_schema.yaml

# –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
python -m src.visualization.plots.generate_all --log-dir results/logs/

# –¢–µ—Å—Ç—ã
pytest tests/ -v --cov=src/ --cov-report=html

# –õ–∏–Ω—Ç–∏–Ω–≥
ruff check . --fix
ruff format .
mypy src/ tests/ --strict
```

## –ö–ª—é—á–µ–≤—ã–µ –§–∞–π–ª—ã üìÅ
| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –§–∞–π–ª—ã | –°—Ç—Ä–æ–∫–∏ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-------|--------|----------|
| **Training** | `src/training/trainer.py` | 1223 | –ì–ª–∞–≤–Ω—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä, TrainerConfig |
| **Agents** | `src/agents/ppo_agent.py` | 845 | PPO —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏ LunarLander |
| **Agents** | `src/agents/a2c_agent.py` | - | A2C —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è |
| **Utils** | `src/utils/seeding.py` | 190 | set_seed(), –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å |
| **Viz** | `src/visualization/graphs.py` | 317 | –ö—Ä–∏–≤–∞—è –æ–±—É—á–µ–Ω–∏—è, —Å—Ä–∞–≤–Ω–µ–Ω–∏—è |
| **Exp** | `src/experiments/completion/baseline_training.py` | - | –ë–∞–∑–æ–≤—ã–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã |

## –°—Å—ã–ª–∫–∏ –∏ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ üîó
- **AGENTS.md:** [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∞–≥–µ–Ω—Ç–∞–º –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ](AGENTS.md) (–¥–æ–±–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ –∫–æ–Ω–µ—Ü AGENTS.md)
- **–î–ª—è –∞–≥–µ–Ω—Ç–æ–≤:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `ruff check --fix .` –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–∞–º–∏, seed=42 –¥–ª—è –±–∞–∑–ª–∞–π–Ω–æ–≤
- **Reproducibility:** –í—Å–µ–≥–¥–∞ `set_seed(42)` –ø–µ—Ä–≤—ã–º!

*–û–±–Ω–æ–≤–ª–µ–Ω–æ: 2026-02-03 | –î–ª–∏–Ω–∞: ~350 —Å—Ç—Ä–æ–∫ | –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –±–µ–∑ —á—Ç–µ–Ω–∏—è 278+ —Å—Ç—Ä–æ–∫ AGENTS.md*
